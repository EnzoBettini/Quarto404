<template><div class="menu-container"><video ref="backgroundVideoPlayer" class="background-video" :src="videoSource" loop muted playsinline poster="@/assets/videos/elevator_edited.mp4"></video><div class="overlay-content" :class="{ 'video-playing': isVideoPlaying}"><h1 class="game-title">QUARTO 404</h1><div v-if="!isVideoPlaying" class="menu-buttons"><button @click="startGame" class="game-button start-button">Começar Jogo</button><button class="game-button" disabled>Opções</button><button class="game-button" disabled>Sair</button></div></div></div></template><script setup>import{ ref, onMounted} from 'vue';import{ useRouter} from 'vue-router';import elevatorVideo from '@/assets/videos/elevator_edited.mp4';// --- NOVA LINHA: Importar o arquivo de áudio ---// Atenção ao caminho exato e use barras normais '/'import startSoundFile from '@/assets/audio/audiosamples/Samples/simpleboom.wav';const router=useRouter();const backgroundVideoPlayer=ref(null);const videoSource=ref(elevatorVideo);const isVideoPlaying=ref(false);const startGame=()=>{ // --- NOVA SEÇÃO: Tocar o som de início --- try{ const audio=new Audio(startSoundFile); audio.play().catch(error=>{ // O catch aqui é para o caso de o navegador bloquear o play, embora por um clique geralmente funcione. console.error("Erro ao tentar tocar o som de início:", error);});} catch (error){ console.error("Erro ao criar o objeto de áudio:", error); // Isso pode acontecer se o caminho do áudio estiver incorreto na importação e 'startSoundFile' for undefined.} // --- FIM DA NOVA SEÇÃO --- if (backgroundVideoPlayer.value){ isVideoPlaying.value=true; backgroundVideoPlayer.value.muted=false; backgroundVideoPlayer.value.loop=false; backgroundVideoPlayer.value.currentTime=0; backgroundVideoPlayer.value.play() .then(()=>{ console.log("Vídeo de introdução iniciado.");}) .catch(error=>{ console.error("Erro ao tentar tocar o vídeo de introdução:", error); router.push('/corredor');});}};onMounted(()=>{ if (backgroundVideoPlayer.value){ backgroundVideoPlayer.value.addEventListener('ended', ()=>{ if (isVideoPlaying.value){ console.log("Vídeo de introdução terminou."); router.push('/corredor');}});}});</script><style scoped>.menu-container{ position: relative; width: 100vw; height: 100vh; display: flex; align-items: center; justify-content: center; overflow: hidden}.background-video{ position: absolute; top: 50%; left: 50%; width: 100%; height: 100%; object-fit: cover; transform: translate(-50%, -50%); z-index: 1}.overlay-content{ position: relative; z-index: 2; text-align: center; background-color: rgba(0, 0, 0, 0.3); padding: 40px; border-radius: 10px; transition: opacity 0.5s ease-in-out}.overlay-content.video-playing{ opacity: 0; pointer-events: none}.game-title{ font-family: 'Courier New', Courier, monospace; font-size: 4em; color: #00ff00; text-shadow: 0 0 5px #00ff00, 0 0 10px #00ff00, 0 0 20px #00ff00; margin-bottom: 50px; animation: flicker 1.5s infinite alternate}@keyframes flicker{ 0%, 18%, 22%, 25%, 53%, 57%, 100%{ text-shadow: 0 0 4px #00ff00, 0 0 11px #00ff00, 0 0 19px #00ff00, 0 0 40px #0f0, 0 0 80px #0f0, 0 0 90px #0f0, 0 0 100px #0f0, 0 0 150px #0f0;} 20%, 24%, 55%{ text-shadow: none;}}.menu-buttons{ display: flex; flex-direction: column; align-items: center; gap: 20px}.game-button{ font-family: 'Consolas', 'Lucida Console', monospace; background-color: rgba(0, 50, 0, 0.7); color: #00ff00; border: 2px solid #00ff00; padding: 15px 30px; font-size: 1.5em; cursor: pointer; min-width: 250px; text-align: center; transition: background-color 0.2s, color 0.2s, box-shadow 0.2s; box-shadow: 0 0 5px #00ff00}.game-button:hover{ background-color: #00ff00; color: #003300; box-shadow: 0 0 15px #00ff00, 0 0 25px #00ff00}.game-button:disabled{ border-color: #005c00; color: #005c00; background-color: rgba(0, 20, 0, 0.5); cursor: not-allowed; box-shadow: none}.game-button:disabled:hover{ background-color: rgba(0, 20, 0, 0.5); color: #005c00}</style>